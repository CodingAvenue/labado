{% trans_default_domain 'FOSUserBundle' %}

{{ form_start(form, {'method': 'post', 'action': path('fos_user_registration_register'), 'attr': {'class': 'fos_user_registration_register form-signin'}}) }}
    {{form_errors(form)}}
    {% if not form.vars.valid|length %}
        {{dump(errors)}}
    {% endif %}
    <div id="registration" class="container row mg-top">
        <div class="col s12 m6 offset-m3 register-container">
            <h5 class="center-align">REGISTER</h5>
            <div class="input-field">
                <i class="material-icons prefix">email</i>
                {{ form_widget(form.email, { "attr": { "class": "validate " } }) }}
                {{ form_label(form.email,'Email', { "label_attr": { "class": "formlabel","data-error": (errors['email'] ?? 'Invalid Email') } }) }}
            </div>
            <div class="input-field">
                <i class="material-icons prefix">account_circle</i>
                {{ form_widget(form.username, { "attr": { "class": "validate " } }) }}
                {{ form_label(form.username) }}
            </div>
            <div class="input-field">
                <i class="material-icons prefix">vpn_key</i>
                {{ form_widget(form.plainPassword.first) }}
                {{ form_label(form.plainPassword.first) }}
            </div>
            <div class="input-field">
                <i class="material-icons prefix">enhanced_encryption</i>
                {{ form_widget(form.plainPassword.second) }}
                {{ form_label(form.plainPassword.second) }}
            </div>
            {{ form_widget(form._token) }}

            <input type="submit" id="_submit" name="_submit" value="{{ 'registration.submit'|trans }}" class="btn btn-lg btn-primary btn-block right" />
        </div>
    </div>
    {{ form_rest(form) }}
{{ form_end(form) }}
